<!DOCTYPE html>

<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>


    <th:block th:replace="~{fragments/layout.html::headerfiles}"></th:block>

    <title>Farms</title>

</head>
<body>

<header th:insert="~{fragments/layout.html::navbar}"></header>

<h2>Your farms</h2>


<div class="row gy-4">


    <div class="col-sm-4" th:each="farm:${farms}" >

        <div class="card" id="farmcard" name="farmname">
            <h5 class="card-header" th:text="${farm.name}">

            </h5>
            <div class="card-body">
                <h5 class="card-title" th:text=" 'Location: '+ ${farm.location}">
                </h5>
                <p class="card-text"  th:text="${farm.description}">

                </p>
                <a class="btn btn-primary" th:href= "@{/farmDetails/{farm_id} (farm_id=${farm.id})}">Farm Details</a>
                <p></p>
                <a id = "deleteFarm" class="btn btn-danger"  th:href="@{/deleteFarm/{farm_id} (farm_id=${farm.id})}"
                   th:data-confirm-delete="|Are you sure you want to delete this farm?. This cannot be undone|"
                   onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false">Delete Farm</a>
            </div>
        </div>

    </div>



</div>

<p></p>

<form action="/newfarm" method="get" class="addbutton">
    <button class="btn btn-danger">Add a new farm</button>

</form>

</div>


<!--<script th:src="@{/js/farm.js}"></script>-->
</body>

</html>